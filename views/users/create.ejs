<!DOCTYPE html>
<html lang="en">
    <head>
        <%- include('../partials/head.ejs') %>

        <title>Create User</title>
    </head>
    <body>
        <header><%- include('../partials/header.ejs') %></header>
        <main class="users-create">
            <h2>Sign up Below!</h2>
            <div class="users-create__flex-container">
                <form action="/users/create" method="POST">
                    <ul class="user-create__user-list">
                        <li>
                            <label for="username">Username:</label>
                            <input
                                type="text"
                                name="username"
                                id="username"
                                autocomplete="username"
                            />
                        </li>
                        <li>
                            <label for="username">Password:</label>
                            <input
                                type="password"
                                name="password"
                                id="password"
                                autocomplete="new-password"
                            />
                        </li>
                        <li>
                            <label for="admin" id="admin-aside"
                                >check this box to enable product editing
                                permissions</label
                            >
                            <input
                                type="checkbox"
                                name="admin"
                                id="admin"
                                onclick="clickHandler('<%= true %>')"
                            />
                        </li>
                    </ul>
                    <ul class="user-create__admin-list">
                        <li>
                            <label
                                for="admin_code"
                                id="admin_code_label"
                                style="display: none"
                                >Admin Code:</label
                            >
                            <input
                                type="password"
                                name="admin_code"
                                id="admin_code"
                                autocomplete="new-password"
                                placeholder="SEIR cohort name"
                                style="display: none"
                            />
                        </li>
                    </ul>

                    <script>
                        var lastToggle = false;
                        function clickHandler() {
                            lastToggle = !lastToggle;
                            if (lastToggle) {
                                document.getElementById(
                                    'admin_code'
                                ).style.display = 'block';
                                document.getElementById(
                                    'admin_code_label'
                                ).style.display = 'block';
                            } else {
                                document.getElementById(
                                    'admin_code'
                                ).style.display = 'none';
                                document.getElementById(
                                    'admin_code_label'
                                ).style.display = 'none';
                            }
                        }
                    </script>
                    <input type="submit" class="btn" value="create account" />
                </form>
            </div>
        </main>
    </body>
</html>
